<!DOCTYPE html>
<html>
<head>
    <title>Mini Chat</title>
    <style>
        body { margin: 0; background:#111; color:#eee; font-family: sans-serif; }
        #chat { padding:1em; height:90vh; overflow-y:auto; }
        #msg { width:100%; box-sizing:border-box; padding:.5em; border:none; background:#222; color:#eee; }
        .user { color:#0f0; }
    </style>
</head>
<body>
    <div id="chat"></div>
    <input id="msg" autocomplete="off" placeholder="Type message..." />
    <script>
    const chat = document.getElementById('chat');
    const msg = document.getElementById('msg');
    msg.addEventListener('keydown', e => {
        if (e.key === 'Enter') {
            const text = msg.value.trim();
            if (!text) return;
            chat.innerHTML += `<div class="user">&gt; ${text}</div>`;
            fetch('/chat?msg=' + encodeURIComponent(text))
                .then(r => r.text())
                .then(t => {
                    chat.innerHTML += `<div>${t}</div>`;
                    chat.scrollTop = chat.scrollHeight;
                });
            msg.value = '';
        }
    });
    </script>
</body>
</html>
